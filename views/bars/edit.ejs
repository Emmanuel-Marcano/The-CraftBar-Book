<% layout('layouts/boilerplate') %> 


<div class="row">
    <h1 class="text-center">Edit Bar</h1>
    <div class="col-6 offset-3">
        <form class="validated-form" action="/bars/<%=bar._id%>?_method=PUT" method="POST" enctype="multipart/form-data" novalidate>
            <div class="mb-3">
                <label class="form-label" for="title">Name of the bar</label>
                <input class="form-control" type="text" name="bar[title]" id="title" value="<%= bar.title %> " required>
            </div>
            <div class="mb-3">
                <label class="form-label" for="location">Location</label>
                <input class="form-control" type="text" name="bar[location]" id="location" value="<%= bar.location %> " required>
            </div>
           
            <div class="mb-3">
                <label class="form-label" for="description">Description</label>
                <textarea class="form-control" type="text" name="bar[description]" id="description" required> <%= bar.description %> </textarea>
            </div>
            <div class="mb-3">
                <label class="form-label" for="price">Average Cocktail Price</label>

                <div class="input-group">
                    <span class="input-group-text" id="price-label">$</span>
                    <input name="bar[price]" id="price" type="text" class="form-control" placeholder="0.00" aria-label="price" aria-describedby="price-label" value="<%= bar.price %> " required>
                </div>
           </div>

           <div class="mb-3">
            <label for="snacks" class="form-label">Does the bar offer free snacks?</label>
            <select name="bar[snacks]" id="snacks" class="form-select" required>
              <option selected>Choose...</option>
              <option value="yes">Yes</option>
              <option value="no">No</option>
            </select>
          </div>

          <div class="mb-3">
            <label for="menu" class="form-label">Is there a food menu?</label>
            <select name="bar[menu]" id="menu" class="form-select" required>
              <option selected>Choose...</option>
              <option value="yes">Yes</option>
              <option value="no">No</option>
            </select>
          </div>

          <div class="mb-3">
            <label for="">Add images:</label>
            <div class="input-group">
                <input type="file" class="form-control" id="inputGroupFile04" aria-describedby="inputGroupFileAddon04" aria-label="Upload" name="image" multiple>
            </div>
          </div>

          <div class="mb-3">

            <% bar.images.forEach( (img, i)=> { %> 
                <img class="img-thumbnail" src="<%= img.thumbnail %>" alt="">
                <div class="form-check-inline">
                    <input type="checkbox" id="image-<%= i %>" name="deleteImages[]" value="<%= img.filename %>">
                </div>
                <label for="image-<%= i %>">delete?</label>
            <% }) %> 

            


          </div>
           
            <div class="mb-3">
                <button class="btn btn-success">Update Bar</button>
            </div>
        </form>
    </div>
</div>




<!--


   <div class="row">
    <h1 class="text-center">Edit Bar</h1>
    <div class="col-6 offset-3">
        <form action="/bars/<%=bar._id%>?_method=PUT" method="POST">
            <div class="mb-3">
                <label class="form-label" for="title">Name of the bar</label>
                <input class="form-control" type="text" name="bar[title]" id="title" value="<%= bar.title %> ">
            </div>
            <div class="mb-3">
                <label class="form-label" for="location">Location</label>
                <input class="form-control" type="text" name="bar[location]" id="location" value="<%= bar.location %> ">
            </div>
            <div class="mb-3">
                <label class="form-label" for="image">Image URL</label>
                <input class="form-control" type="text" name="bar[image]" id="bar" value="<%= bar.image %> ">
            </div>
            <div class="mb-3">
                <label class="form-label" for="description">Description</label>
                <textarea class="form-control" type="text" name="bar[description]" id="description"> <%= bar.description %> </textarea>
            </div>
            <div class="mb-3">
                <label class="form-label" for="price" >Average Cocktail Price</label>
                <div class="input-group">
                    <span class="input-group-text" id="price-label">$</span>
                    <input name="bar[price]" id="price" type="text" class="form-control" placeholder="0.00" aria-label="price" aria-describedby="price-label" value="<%= bar.price %> ">
                </div>
           </div>
           
            <div class="mb-3">
                <button class="btn btn-info">Update Bar</button>
            </div>
        </form>
        <a href="/bars/<%= bar._id %>">Back to bars</a>
    </div>
</div>



    <form class="row g-3" action="/bars" method="POST">
    <div class="col-md-6">
        <label class="form-label" for="title">Bar Name</label>
        <input class="form-control" type="text" name="bar[title]" id="title" value="<%= bar.title %>">
    </div>
    <div class="col-md-6">
        <label class="form-label" for="location">Location</label>
        <input class="form-control" type="text" name="bar[location]" id="location" value="<%= bar.location %> ">
    </div>
    <div class="col-12">
        <label class="form-label" for="image">Image URL</label>
        <input class="form-control" type="text" name="bar[image]" id="bar" value="<%= bar.image %> ">
    </div>
    <div class="col-12">
        <label class="form-label" for="description">Description</label>
        <textarea class="form-control" type="text" name="bar[description]" id="description"><%= bar.description %>  </textarea>
    </div>
    <div class="col-md-4">
        <label class="form-label" for="price">Average Cocktail Price</label>

        <div class="input-group">
            <span class="input-group-text" id="price-label">$</span>
            <input name="bar[price]" id="price" type="text" class="form-control" placeholder="0.00" aria-label="price" aria-describedby="price-label" value="<%= bar.price %> ">
        </div>
    </div>
    <div class="col-md-4">
      <label for="snacks" class="form-label">Does the bar offer free snacks?</label>
      <select name="bar[snacks]" id="snacks" class="form-select">
        <option selected>Choose...</option>
        <option value="yes">Yes</option>
        <option value="no">No</option>
      </select>
    </div>
    <div class="col-md-4">
        <label for="menu" class="form-label">Is there a food menu?</label>
        <select name="bar[menu]" id="menu" class="form-select">
          <option selected>Choose...</option>
          <option value="yes">Yes</option>
          <option value="no">No</option>
        </select>
    </div>
    

    <div class="col-12">
        <button class="btn btn-success">Add bar</button>
    </div>
</form>
    -->
